<UserControl x:Class="ICSharpCode.SharpDevelop.Gui.ColorPicker" x:Name="colorPicker"
	xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
	xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
	xmlns:local="clr-namespace:ICSharpCode.SharpDevelop.Gui">
	<UserControl.Resources>
		<local:ColorToBrushConverter x:Key="converter" />
	</UserControl.Resources>
	<Button Content="{Binding Value, ElementName=colorPicker}"
	    Background="{Binding Value, ElementName=colorPicker, Converter={StaticResource converter}}"
		Foreground="WhiteSmoke"
		Click="ButtonClick">
		<Button.Template>
			<ControlTemplate TargetType="{x:Type Button}">
				<Border CornerRadius="3" BorderBrush="Black" BorderThickness="1.5" Background="{TemplateBinding Background}">
					<ContentPresenter Content="{TemplateBinding Content}"
						HorizontalAlignment="Center" VerticalAlignment="Center" />
				</Border>
			</ControlTemplate>
		</Button.Template>
	</Button>
</UserControl>