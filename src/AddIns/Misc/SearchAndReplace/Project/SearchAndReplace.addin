<AddIn name        = "Search &amp; Replace"
       description = "Implements the Search &amp; Replace feature for the text editor"
       addInManagerHidden = "preinstalled">
	
	<Manifest>
		<Identity name="ICSharpCode.SearchAndReplace"/>
		<Dependency addin="SharpDevelop"/>
	</Manifest>
	
	<Runtime>
		<Import assembly = "SearchAndReplace.dll"/>
	</Runtime>
	
	<!-- Commands registry test -->
	<Path name="/SharpDevelop/CommandManager/RoutedUICommands">
		<RoutedUICommand name="SDSearchAndReplace.Find" text="${res:XML.MainMenu.SearchMenu.Find}" />
		<RoutedUICommand name="SDSearchAndReplace.FindNext" text="${res:XML.MainMenu.SearchMenu.FindNext}" />
		<RoutedUICommand name="SDSearchAndReplace.FindNextSelected" text="${res:XML.MainMenu.SearchMenu.FindNextSelected}" />
		<RoutedUICommand name="SDSearchAndReplace.Replace" text="${res:XML.MainMenu.SearchMenu.Replace}" />
	</Path>
	
	<Path name="/SharpDevelop/CommandManager/CommandBindings">
		<CommandBindingInfo command="SDSearchAndReplace.Find" class="SearchAndReplace.Find" lazy="true" gestures="Ctrl+F" />
		<CommandBindingInfo command="SDSearchAndReplace.FindNext" class="SearchAndReplace.FindNext" lazy="true" gestures="F3" />
		<CommandBindingInfo command="SDSearchAndReplace.FindNextSelected" class="SearchAndReplace.FindNextSelected" lazy="true" gestures="Ctrl+F3" />
		<CommandBindingInfo command="SDSearchAndReplace.Replace" class="SearchAndReplace.Replace" lazy="true" gestures="Ctrl+R" />
	</Path>
	<!-- Commands registry test -->
	
	
	
	<Path name = "/SharpDevelop/Workbench/MainMenu/Search">
		<MenuItem id = "Find"
		          label = "${res:XML.MainMenu.SearchMenu.Find}"
		          icon = "Icons.16x16.FindIcon"
		          shortcut = "Ctrl+F"
		          class = "SearchAndReplace.Find"
		          command="SDSearchAndReplace.Find" />
		<MenuItem id = "FindNext"
		          insertafter = "Find"
		          label = "${res:XML.MainMenu.SearchMenu.FindNext}"
		          icon = "Icons.16x16.FindNextIcon"
		          shortcut = "F3"
		          class = "SearchAndReplace.FindNext"
		          command="SDSearchAndReplace.FindNext" />
		<MenuItem id = "FindNextSelected"
		          insertafter = "FindNext"
		          label = "${res:XML.MainMenu.SearchMenu.FindNextSelected}"
		          shortcut = "Ctrl+F3"
		          class = "SearchAndReplace.FindNextSelected"
		          command="SDSearchAndReplace.FindNextSelected" />
		<MenuItem id = "Replace"
		          insertbefore = "SearchIncremental"
		          insertafter = "FindNextSelected"
		          label = "${res:XML.MainMenu.SearchMenu.Replace}"
		          icon = "Icons.16x16.ReplaceIcon"
		          shortcut = "Ctrl+R"
		          class = "SearchAndReplace.Replace"
		          command="SDSearchAndReplace.Replace" />
	</Path>
	
	<Path name = "/SharpDevelop/DefaultEditor/SearchAndReplace/WildcardHelpPath">
		<MenuItem id    = "*Char"
		          label = "* Zero or more of any character" />
		<MenuItem id    = "?Char"
		          label = "? Any single character" />
		<MenuItem id    = "#Char"
		          label = "# Any single digit" />
		<MenuItem id    = "[]Char"
		          label = "[] Any one character in the set" />
		<MenuItem id    = "[!]Char"
		          label = "[!] Any one character not in the set" />
	</Path>
	
	<Path name = "/SharpDevelop/Workbench/ToolBar/Standard">
		<ToolbarItem id = "FindSeparator" type = "Separator" />
		<ToolbarItem id      = "Find"
		             icon    = "Icons.16x16.FindIcon"
		             tooltip = "${res:MainWindow.Windows.ClassBrowser.CommitSearch.ToolTip}"
		             class   = "SearchAndReplace.Find"/>
		
		<ToolbarItem id      = "FindComboBox"
		             type    = "ComboBox"
		             tooltip = "${res:MainWindow.Windows.ClassBrowser.CommitSearch.ToolTip}"
		             class   = "SearchAndReplace.FindComboBox"/>
	</Path>
	
	<!-- File extensions that should not be searched since they are not opened
	 in a text editor -->
	<Path name="/AddIns/DefaultTextEditor/Search/ExcludedFileExtensions">
		<String text=".resx"/>
		<String text=".resources"/>
		<String text=".exe"/>
		<String text=".dll"/>
		<String text=".pdb"/>
	</Path>
	
	<Path name="/SharpDevelop/Pads/SearchResultPad/Factories">
		<Class id="DefaultSearchResultFactory" class="SearchAndReplace.DefaultSearchResultFactory"/>
	</Path>
</AddIn>
