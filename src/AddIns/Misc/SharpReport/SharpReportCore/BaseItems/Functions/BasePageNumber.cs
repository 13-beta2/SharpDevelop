//------------------------------------------------------------------------------
// <autogenerated>
//     This code was generated by a tool.
//     Runtime Version: 1.1.4322.2032
//
//     Changes to this file may cause incorrect behavior and will be lost if 
//     the code is regenerated.
// </autogenerated>
//------------------------------------------------------------------------------


using System;
using System.Drawing;
using System.Globalization;

/// <summary>
/// BaseClass for PageNumbers
/// </summary>
/// <remarks>
/// 	created by - Forstmeier Peter
/// 	created on - 12.09.2005 22:34:54
/// </remarks>

namespace SharpReportCore {
		public class BasePageNumber : BaseFunction {
			static string fnName = "SharpReport.Toolbar.Functions.PageNumber";
			
			public BasePageNumber():base(fnName) {
//				System.Console.WriteLine("!! PageNr created with name {0}",this.Name);
				
			}
			
			public override void Render(ReportPageEventArgs rpea) {
				if (rpea == null) {
					throw new ArgumentNullException("rpea");
				}
				base.Render(rpea);
				
				string formattedString = base.FormatOutput(rpea.PageNumber.ToString(CultureInfo.InvariantCulture),
				                                           this.FormatString,
				                                           TypeCode.Int32,
				                                           "xxxx");
				
				RectangleF rect = base.PrepareRectangle (rpea,formattedString);
				//Printout the textpart
				base.PrintTheStuff (rpea,this.Text,rect);
				//here we print the functionpart
				StringFormat fmt = StringFormat;

				fmt.Alignment = StringAlignment.Far;
				fmt.LineAlignment = StringAlignment.Center;

				rpea.PrintPageEventArgs.Graphics.DrawString(formattedString,
				                                            this.Font,
				                                            Brushes.Black,
				                                            rect,
				                                            fmt);
				base.NotiyfyAfterPrint (rpea.LocationAfterDraw);
			}
			
			public override string ToString() {
				return "BasePageNumber";
			}
		}
}
