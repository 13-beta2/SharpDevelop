//------------------------------------------------------------------------------
// <autogenerated>
//     This code was generated by a tool.
//     Runtime Version: 1.1.4322.2032
//
//     Changes to this file may cause incorrect behavior and will be lost if 
//     the code is regenerated.
// </autogenerated>
//------------------------------------------------------------------------------


using System;
using System.Globalization;
using System.ComponentModel;
using System.Drawing;	
	
/// <summary>
/// BaseClass for PageNumbers
/// </summary>
/// <remarks>
/// 	created by - Forstmeier Peter
/// 	created on - 12.09.2005 22:34:54
/// </remarks>

namespace SharpReportCore {
		public class BasePageNumber : BaseFunction {
			static string fnName = "SharpReport.Toolbar.Functions.PageNumber";
			
			public BasePageNumber():base(fnName) {
				
			}
			
			public override void Render(ReportPageEventArgs e) {
				base.Render(e);
				
				string formattedString = base.FireFormatOutput(e.PageNumber.ToString(CultureInfo.InvariantCulture),
				                                               base.FormatString,"");
				

				RectangleF rect = base.PrepareRectangle (e,formattedString);
				//Printout the textpart
				base.PrintTheStuff (e,this.Text,rect);
				//here we print the functionpart
				StringFormat fmt = StandartStringFormat;

				fmt.Alignment = StringAlignment.Far;
				fmt.LineAlignment = StringAlignment.Near;
				e.PrintPageEventArgs.Graphics.DrawString(e.PageNumber.ToString(CultureInfo.InvariantCulture),
				                                         this.Font,
				                                         Brushes.Black,
				                                         rect,
				                                         fmt);
				
				base.NotiyfyAfterPrint (e.LocationAfterDraw);
			}
			
			public override string ToString() {
				return "PageNumber";
			}
			
			public override string LocalisedName {
				get {
					return base.LocalisedName;
				}
			}
			
			
			
		}
}
