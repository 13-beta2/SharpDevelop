<UserControl x:Class="SharpDevelop.XamlDesigner.Outline.OutlineView"
             x:Name="root"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:Default="clr-namespace:SharpDevelop.XamlDesigner"
             xmlns:Dom="clr-namespace:SharpDevelop.XamlDesigner.Dom"
             xmlns:Controls="clr-namespace:SharpDevelop.XamlDesigner.Controls"
             xmlns:Converters="clr-namespace:SharpDevelop.XamlDesigner.Converters"
             xmlns:Outline="clr-namespace:SharpDevelop.XamlDesigner.Outline"
             SnapsToDevicePixels="True">

    <UserControl.Resources>

        <HierarchicalDataTemplate DataType="{x:Type Dom:DesignItem}"
                                  ItemsSource="{Binding Content.Value, Converter={x:Static Converters:EnsureCollectionConverter.Instance}}">
            <TextBlock Text="{Binding DisplayName}" />
        </HierarchicalDataTemplate>

    </UserControl.Resources>

    <Controls:FilterDecorator>
        <Outline:OutlineTreeBox TreeSource="{Binding Context.Root, ElementName=root, Converter={x:Static Converters:EnsureCollectionConverter.Instance}}"
                                SelectionMode="Extended"
                                AllowDrag="True"
                                AllowDrop="True"
                                BorderThickness="0">
            <Outline:OutlineTreeBox.CoreStyle>
                <Style TargetType="{x:Type Controls:TreeBoxItemCore}">
                    <Setter Property="IsSelected"
                            Value="{Binding IsSelected}" />
                    <Setter Property="IsExpanded"
                            Value="{Binding Path=(Outline:OutlineView.IsExpanded), Mode=TwoWay}" />
                </Style>
            </Outline:OutlineTreeBox.CoreStyle>
        </Outline:OutlineTreeBox>
    </Controls:FilterDecorator>

</UserControl>
